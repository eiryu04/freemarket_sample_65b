.product--main__container
  - if product.errors.present?
    %ul#error_explanation
      - product.errors.full_messages.each do |message|
        %li= message 
  = form_for product do |f|
    .product--main__container__head
      .form--group
        %label 
          %text 出品画像
          %span 必須
          #image-box
            #previews
              - if product.persisted?
                - product.images.each_with_index do |image, i|
                  = image_tag image.src.url, data: { index: i }, width: "100", height: "100"
            = f.fields_for :images do |image|
              .js-file_group{"data-index": "#{image.index}"}
                = image.file_field :src, class: 'js-file'
                %br/
                %span.js-remove 削除
                - if product.persisted?
                  = image.check_box :_destroy, data:{ index: image.index }, class: 'hidden-destroy'
            - if product.persisted?
            .js-file_group{"data-index": "#{product.images.count}"}
              = file_field_tag :src, name: "product[images_attributes][#{product.images.count}][src]", class: 'js-file'
                .js-remove 削除
    .product--main__container__description
      .form--group
        = f.label "商品名"
        %span 必須
        %br
        = f.text_field :name, class: 'product--name'
      .form--group
        = f.label "説明文"
        %span 必須
        %br
        = f.text_area :detail, placeholder: '商品の説明（色、素材、重さ、定価、注意点など）', class: 'product--detail', cols: "70", rows: "5"
    .product--main__container__details
      %p.product--form__description 商品の詳細
      .form--group
        = f.label "カテゴリー"
        %span 必須
        %br
        = f.collection_select :category_id, Category.all, :id, :name
      .form--group
        = f.label "ブランド"
        %span.default 任意
        %br
        = f.fields_for :brand do |b|
          = b.text_field :name, placeholder: '例）シャネル', class: 'product--brand'
      .form--group
        = f.label "商品の状態"
        %span 必須
        %br
        = f.select :condition, Product.conditions.keys
    .product--main__container__delivery
      %p.product--form__description 発送について
      .form--group
        = f.label "配送料の負担"
        %span 必須
        %br
        = f.select :shopping_charges, Product.shopping_charges.keys
      .form--group
        = f.label "発送元の地域"
        %span 必須
        %br
        = f.select :delivery_area, Product.delivery_areas.keys
      .form--group
        = f.label "発送までの日数"
        %span 必須
        %br
        = f.select :delivery_date, Product.delivery_dates.keys
    .product--main__container__price
      %p.product--form__description 価格（¥300〜¥9,999,999）
      .form--group
        = f.label "販売価格"
        %span 必須
        %text ¥
        = f.text_field :price, placeholder: '0', type: 'number', class: 'product--price'
      %p.product--form__note 販売手数料（10%）
    .product--main__container__submit
      = f.submit "出品する", class: 'product--submit__btn'
      = link_to "もどる", root_path
      %p.product--form__note 禁止されている行為および出品物を必ずご確認ください。偽ブランド品や盗難物などの販売は犯罪であり、法律により処罰される可能性があります。また出品をもちまして加盟店規約に同意したことになります。